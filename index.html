<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Portafolio | Andres</title>
    <meta
      name="description"
      content="Portafolio de Andres - Desarrollador de software. Proyectos, tecnolog√≠as, certificados y contacto."
    />
    <meta name="theme-color" content="#19222d" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="./recursos/programacion.png" />

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Bootstrap Icons (ligero y pro) -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="./styles.css" />
  </head>

  <body>
    <!-- Decorative animated background -->
    <div class="bg-blobs" aria-hidden="true">
      <span class="blob blob-1"></span>
      <span class="blob blob-2"></span>
      <span class="blob blob-3"></span>
      <canvas id="particles"></canvas>
    </div>

    <!-- Header / Nav -->
    <header class="site-header">
      <nav class="top-nav glass" aria-label="Navegaci√≥n principal">
        <a class="brand" href="#inicio" aria-label="Ir al inicio">
          <img src="./recursos/programacion.png" alt="Logo" />
          <span>AndreSoft</span>
        </a>

        <button
          class="nav-toggle"
          type="button"
          aria-label="Abrir men√∫"
          aria-expanded="false"
          aria-controls="navLinks"
        >
          <i class="bi bi-list"></i>
        </button>

        <div class="nav-links" id="navLinks">
          <a class="nav-link-item" href="#proyectos">Proyectos</a>
          <a class="nav-link-item" href="#sobremi">Sobre m√≠</a>
          <a class="nav-link-item" href="#certificados">Certificados</a>
          <a class="nav-link-item nav-cta" href="#contacto">Contacto</a>
        </div>
      </nav>
    </header>

    <main id="inicio">
      <!-- Hero -->
      <section class="hero container">
        <div class="row align-items-center gy-5">
          <div class="col-lg-6">
            <div class="hero-badge reveal">
              <i class="bi bi-stars"></i>
              <span>Disponible para proyectos ‚Ä¢ Remoto / Presencial</span>
            </div>

            <h1 class="hero-title reveal">
              Hola, soy <span class="grad-text">Andres</span> üëã
            </h1>

            <p class="hero-subtitle reveal">
              <span class="typewriter" data-text="Desarrollador de software enfocado en productos web modernos, r√°pidos y bien dise√±ados."></span>
            </p>

            <ul class="hero-points reveal">
              <li><i class="bi bi-check2-circle"></i> +3 a√±os en proyectos reales y trabajo en empresas</li>
              <li><i class="bi bi-check2-circle"></i> Tecn√≥logo en ADSO</li>
              <li><i class="bi bi-check2-circle"></i> Ingenier√≠a de Software (6¬∞ semestre)</li>
            </ul>

            <div class="hero-actions reveal">
              <a class="btn btn-primary btn-lg btn-glow" href="#proyectos">
                Ver proyectos <i class="bi bi-arrow-right"></i>
              </a>

              <!-- Si tienes CV, pon la ruta -->
              <a class="btn btn-outline-light btn-lg" href="./recursos/CVnithson.pdf" target="_blank" rel="noopener">
                Descargar CV <i class="bi bi-download"></i>
              </a>
            </div>

            <!-- Social -->
            <div class="social-row reveal" aria-label="Redes sociales">
              <a
                class="social-btn"
                href="https://www.instagram.com/_nithsonn2720/"
                target="_blank"
                rel="noopener"
                aria-label="Instagram de Andres"
              >
                <i class="bi bi-instagram"></i>
              </a>

              <a
                class="social-btn"
                href="https://github.com/Andrex501"
                target="_blank"
                rel="noopener"
                aria-label="GitHub de Andres"
              >
                <i class="bi bi-github"></i>
              </a>

              <a
                class="social-btn"
                href="https://wa.me/573209025487"
                target="_blank"
                rel="noopener"
                aria-label="WhatsApp de Andres"
              >
                <i class="bi bi-whatsapp"></i>
              </a>

        
               
              </a>
            </div>
          </div>

          <div class="col-lg-6">
            <div class="hero-card glass reveal">
              <div class="hero-card-top">
                <img
                  class="avatar"
                  src="./recursos/mifoto2.png"
                  alt="Foto de Andres"
                />
                <div class="hero-mini">
                  <p class="mini-title">Perfil</p>
                  <p class="mini-sub">Frontend ‚Ä¢ Backend ‚Ä¢ UI</p>
                </div>
              </div>

              <div class="hero-card-body">
                <div class="stats">
                  <div class="stat">
                    <p class="stat-num">+3</p>
                    <p class="stat-label">A√±os</p>
                  </div>
                  <div class="stat">
                    <p class="stat-num">Muchos</p>
                    <p class="stat-label">Proyectos</p>
                  </div>
                  <div class="stat">
                    <p class="stat-num">+11</p>
                    <p class="stat-label">Tecnolog√≠as</p>
                  </div>
                </div>

                <div class="mini-divider"></div>

                <p class="hero-note">
                  Me gusta construir experiencias limpias, r√°pidas y con una
                  est√©tica cuidada. Si algo se puede optimizar, lo optimizo.
                </p>

                <div class="hero-tags">
                  <span class="chip">UI/UX</span>
                  <span class="chip">Responsive</span>
                  <span class="chip">APIs</span>
                  <span class="chip">Performance</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Scroll hint -->
        <div class="scroll-hint" aria-hidden="true">
          <span>Scroll</span>
          <i class="bi bi-mouse"></i>
        </div>
      </section>

      <!-- Projects -->
      <section id="proyectos" class="section container">
        <div class="section-head reveal">
          <h2 class="section-title">
            Algunos <span class="grad-text">proyectos</span>
          </h2>
          <p class="section-subtitle">
            Proyectos con enfoque en UI moderna, responsive y funcionalidades reales.
          </p>
        </div>

        <div class="row g-4">
          <!-- Project 1 -->
          <div class="col-md-6 col-xl-4">
            <article class="project-card glass reveal">
              <div class="project-thumb">
                <img src="./recursos/water.png" alt="Proyecto Empresa de agua" />
                <span class="project-badge">Web</span>
              </div>

              <div class="project-body">
                <h3 class="project-title">Empresa de agua</h3>
                <p class="project-desc">
                  Landing + secciones informativas + dise√±o responsive. Enfoque en claridad y est√©tica.
                </p>

                <div class="chip-row">
                  <span class="chip chip-soft">HTML</span>
                  <span class="chip chip-soft">CSS</span>
                  <span class="chip chip-soft">Bootstrap</span>
                  <span class="chip chip-soft">JS</span>
                </div>

                <ul class="project-bullets">
                  <li><i class="bi bi-lightning-charge"></i> UI limpia y enfocada en conversi√≥n</li>
                  <li><i class="bi bi-phone"></i> Optimizado para m√≥viles</li>
                </ul>

                <div class="project-actions">
                  <a
                    class="btn btn-sm btn-outline-light"
                    href="https://saqua.netlify.app/"
                    target="_blank"
                    rel="noopener"
                  >
                    Ir a la web <i class="bi bi-box-arrow-up-right"></i>
                  </a>
                  <a
                    class="btn btn-sm btn-primary btn-glow"
                    href="https://github.com/Andrex501/saqua"
                    target="_blank"
                    rel="noopener"
                  >
                    GitHub <i class="bi bi-github"></i>
                  </a>
                </div>
              </div>
            </article>
          </div>

          <!-- Project 2 -->
          <div class="col-md-6 col-xl-4">
            <article class="project-card glass reveal">
              <div class="project-thumb">
                <img src="./recursos/pacientes.png" alt="Proyecto Formulario Veterinaria" />
                <span class="project-badge">React</span>
              </div>

              <div class="project-body">
                <h3 class="project-title">Formulario Veterinaria</h3>
                <p class="project-desc">
                  App para gestionar citas/registro con componentes reutilizables y estado.
                </p>

                <div class="chip-row">
                  <span class="chip chip-soft">React</span>
                  <span class="chip chip-soft">JS</span>
                  <span class="chip chip-soft">CSS</span>
                </div>

                <ul class="project-bullets">
                  <li><i class="bi bi-ui-checks"></i> Formularios y validaciones</li>
                  <li><i class="bi bi-layers"></i> Componentizaci√≥n</li>
                </ul>

                <div class="project-actions">
                  <a
                    class="btn btn-sm btn-outline-light"
                    href="https://stellar-tulumba-f7604e.netlify.app/"
                    target="_blank"
                    rel="noopener"
                  >
                    Ir a la web <i class="bi bi-box-arrow-up-right"></i>
                  </a>
                  <a
                    class="btn btn-sm btn-primary btn-glow"
                    href="https://github.com/Andrex501/Citas_React"
                    target="_blank"
                    rel="noopener"
                  >
                    GitHub <i class="bi bi-github"></i>
                  </a>
                </div>
              </div>
            </article>
          </div>

          <!-- Project 3 -->
          <div class="col-md-6 col-xl-4">
            <article class="project-card glass reveal">
              <div class="project-thumb">
                <img src="./recursos/guitars.png" alt="Proyecto Tienda de guitarras" />
                <span class="project-badge">E-commerce</span>
              </div>

              <div class="project-body">
                <h3 class="project-title">Tienda de guitarras</h3>
                <p class="project-desc">
                  Cat√°logo con presentaci√≥n moderna, secciones de productos y UI atractiva.
                </p>

                <div class="chip-row">
                  <span class="chip chip-soft">HTML</span>
                  <span class="chip chip-soft">CSS</span>
                  <span class="chip chip-soft">JS</span>
                </div>

                <ul class="project-bullets">
                  <li><i class="bi bi-cart2"></i> Presentaci√≥n tipo tienda</li>
                  <li><i class="bi bi-palette2"></i> Est√©tica cuidada</li>
                </ul>

                <div class="project-actions">
                  <a
                    class="btn btn-sm btn-outline-light"
                    href="https://magnificent-cheesecake-f76fdf.netlify.app/"
                    target="_blank"
                    rel="noopener"
                  >
                    Ir a la web <i class="bi bi-box-arrow-up-right"></i>
                  </a>
                  <a
                    class="btn btn-sm btn-primary btn-glow"
                    href="https://github.com/Andrex501/Guitars"
                    target="_blank"
                    rel="noopener"
                  >
                    GitHub <i class="bi bi-github"></i>
                  </a>
                </div>
              </div>
            </article>
          </div>

          <!-- Project 4 -->
          <div class="col-md-6 col-xl-4">
            <article class="project-card glass reveal">
              <div class="project-thumb">
                <img src="./recursos/clima.png" alt="Proyecto Clima y Tiempo" />
                <span class="project-badge">API</span>
              </div>

              <div class="project-body">
                <h3 class="project-title">Clima y Tiempo</h3>
                <p class="project-desc">
                  App que consulta datos y muestra resultados con una interfaz amigable.
                </p>

                <div class="chip-row">
                  <span class="chip chip-soft">JS</span>
                  <span class="chip chip-soft">API</span>
                  <span class="chip chip-soft">UI</span>
                </div>

                <ul class="project-bullets">
                  <li><i class="bi bi-cloud-sun"></i> Consumo de API</li>
                  <li><i class="bi bi-speedometer"></i> UI r√°pida</li>
                </ul>

                <div class="project-actions">
                  <a
                    class="btn btn-sm btn-outline-light"
                    href="https://climanith.netlify.app/"
                    target="_blank"
                    rel="noopener"
                  >
                    Ir a la web <i class="bi bi-box-arrow-up-right"></i>
                  </a>
                  <a
                    class="btn btn-sm btn-primary btn-glow"
                    href="https://github.com/Andrex501/clima"
                    target="_blank"
                    rel="noopener"
                  >
                    GitHub <i class="bi bi-github"></i>
                  </a>
                </div>
              </div>
            </article>
          </div>

          <!-- Fancy filler card: "Qu√© hago" -->
          <div class="col-md-6 col-xl-8">
            <article class="wide-card glass reveal">
              <div class="wide-left">
                <h3 class="wide-title">Lo que aporto en un proyecto</h3>
                <p class="wide-desc">
                  Me enfoco en construir productos con base s√≥lida: dise√±o consistente,
                  componentes reutilizables, buenas pr√°cticas y detalles que elevan la experiencia.
                </p>

                <div class="wide-grid">
                  <div class="wide-item">
                    <i class="bi bi-brush"></i>
                    <div>
                      <p class="wide-item-title">UI moderna</p>
                      <p class="wide-item-sub">Dise√±os limpios, efectos sutiles, buena jerarqu√≠a.</p>
                    </div>
                  </div>

                  <div class="wide-item">
                    <i class="bi bi-phone"></i>
                    <div>
                      <p class="wide-item-title">Responsive real</p>
                      <p class="wide-item-sub">Mobile-first, grids, tipograf√≠a escalable.</p>
                    </div>
                  </div>

                  <div class="wide-item">
                    <i class="bi bi-rocket-takeoff"></i>
                    <div>
                      <p class="wide-item-title">Performance</p>
                      <p class="wide-item-sub">Evito cargas innecesarias, optimizo recursos.</p>
                    </div>
                  </div>

                  <div class="wide-item">
                    <i class="bi bi-diagram-3"></i>
                    <div>
                      <p class="wide-item-title">Integraci√≥n</p>
                      <p class="wide-item-sub">APIs, datos, flujos y experiencia completa.</p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="wide-right">
                <div class="mini-kpi">
                  <p class="kpi-title">Stack favorito</p>
                  <p class="kpi-big">JS ‚Ä¢ React ‚Ä¢ Node</p>
                  <p class="kpi-sub">+ Bootstrap / Tailwind seg√∫n el contexto</p>
                </div>

                <a class="btn btn-primary btn-glow w-100" href="#contacto">
                  Hablemos <i class="bi bi-chat-dots"></i>
                </a>
              </div>
            </article>
          </div>
        </div>
      </section>

      <!-- About -->
      <section id="sobremi" class="section container">
        <div class="section-head reveal">
          <h2 class="section-title">
            Sobre <span class="grad-text">m√≠</span>
          </h2>
          <p class="section-subtitle">
            Me gusta crear experiencias web modernas, con buen dise√±o y c√≥digo limpio.
          </p>
        </div>

        <div class="row g-4 align-items-stretch">
          <div class="col-lg-5">
            <div class="glass about-card reveal">
              <h3 class="about-title">Resumen r√°pido</h3>
              <p class="about-text">
                Soy desarrollador con experiencia construyendo interfaces modernas y funcionalidades reales.
                Me adapto r√°pido, soy detallista y busco que el resultado se vea profesional y s√≥lido.
              </p>

              <div class="about-list">
                <div class="about-list-item">
                  <i class="bi bi-geo-alt"></i>
                  <span>Colombia ‚Ä¢ Disponible remoto</span>
                </div>
                <div class="about-list-item">
                  <i class="bi bi-clock-history"></i>
                  <span>Enfoque: calidad, dise√±o, detalle</span>
                </div>
                <div class="about-list-item">
                  <i class="bi bi-check2-square"></i>
                  <span>Buenas pr√°cticas y orden</span>
                </div>
              </div>

              <div class="about-actions">
                <a class="btn btn-outline-light" href="#proyectos">
                  Ver trabajos <i class="bi bi-images"></i>
                </a>
                <a class="btn btn-primary btn-glow" href="#contacto">
                  Contacto <i class="bi bi-send"></i>
                </a>
              </div>
            </div>
          </div>

          <div class="col-lg-7">
            <div class="glass reveal tech-card">
              <h3 class="tech-title">Tecnolog√≠as que he utilizado</h3>

              <div class="tech-grid" role="list">
                <!-- Reusa tus im√°genes -->
                <div class="tech-item" role="listitem" title="HTML">
                  <img src="./recursos/html.png" alt="HTML" />
                  <span>HTML</span>
                </div>
                <div class="tech-item" role="listitem" title="CSS">
                  <img src="./recursos/css.png" alt="CSS" />
                  <span>CSS</span>
                </div>
                <div class="tech-item" role="listitem" title="JavaScript">
                  <img src="./recursos/js.png" alt="JavaScript" />
                  <span>JavaScript</span>
                </div>
                <div class="tech-item" role="listitem" title="MongoDB">
                  <img src="./recursos/mongo.png" alt="MongoDB" />
                  <span>MongoDB</span>
                </div>
                <div class="tech-item" role="listitem" title="Bootstrap">
                  <img src="./recursos/bootstrap.png" alt="Bootstrap" />
                  <span>Bootstrap</span>
                </div>
                <div class="tech-item" role="listitem" title="MySQL">
                  <img src="./recursos/mysql.png" alt="MySQL" />
                  <span>MySQL</span>
                </div>
                <div class="tech-item" role="listitem" title="NodeJS">
                  <img src="./recursos/node.png" alt="NodeJS" />
                  <span>Node</span>
                </div>
                <div class="tech-item" role="listitem" title="PHP">
                  <img src="./recursos/php.png" alt="PHP" />
                  <span>PHP</span>
                </div>
                <div class="tech-item" role="listitem" title="React">
                  <img src="./recursos/react.png" alt="React" />
                  <span>React</span>
                </div>
                <div class="tech-item" role="listitem" title="Vue">
                  <img src="./recursos/vue.png" alt="Vue" />
                  <span>Vue</span>
                </div>
                <div class="tech-item" role="listitem" title="Tailwind">
                  <img src="./recursos/tailwind.png" alt="Tailwind" />
                  <span>Tailwind</span>
                </div>
              </div>

              <div class="tech-note">
                <i class="bi bi-lightbulb"></i>
                <span>Tip: en proyectos reales elijo el stack seg√∫n el objetivo, velocidad y mantenimiento.</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Certificates -->
      <section id="certificados" class="section container">
        <div class="section-head reveal">
          <h2 class="section-title">
            Mis <span class="grad-text">certificados</span>
          </h2>
          <p class="section-subtitle">
            Formaci√≥n, reconocimientos y especializaciones.
          </p>
        </div>

        <div class="row g-4">
          <div class="col-md-6 col-lg-3">
            <button class="cert-card glass reveal" data-cert="./recursos/tecnologo.png" aria-label="Ver certificado tecn√≥logo">
              <img src="./recursos/tecnologo.png" alt="Tecn√≥logo en ADSO" />
              <div class="cert-body">
                <p class="cert-title">Tecn√≥logo en ADSO</p>
                <p class="cert-sub">Formaci√≥n</p>
              </div>
            </button>
          </div>

          <div class="col-md-6 col-lg-3">
            <button class="cert-card glass reveal" data-cert="./recursos/reconocimiento.png" aria-label="Ver reconocimiento">
              <img src="./recursos/reconocimiento.png" alt="Reconocimiento por rendimiento" />
              <div class="cert-body">
                <p class="cert-title">Reconocimiento</p>
                <p class="cert-sub">Rendimiento</p>
              </div>
            </button>
          </div>

          <div class="col-md-6 col-lg-3">
            <button class="cert-card glass reveal" data-cert="./recursos/remoto.png" aria-label="Ver certificado trabajo remoto">
              <img src="./recursos/remoto.png" alt="Certificado trabajo remoto" />
              <div class="cert-body">
                <p class="cert-title">Trabajo remoto</p>
                <p class="cert-sub">Certificado</p>
              </div>
            </button>
          </div>

          <div class="col-md-6 col-lg-3">
            <button class="cert-card glass reveal" data-cert="./recursos/javascript.png" aria-label="Ver certificado JavaScript">
              <img src="./recursos/javascript.png" alt="Certificado JavaScript" />
              <div class="cert-body">
                <p class="cert-title">JavaScript</p>
                <p class="cert-sub">Especial</p>
              </div>
            </button>
          </div>
        </div>
      </section>

      <!-- Contact -->
      <section id="contacto" class="section container">
        <div class="contact-wrap glass reveal">
          <div class="contact-left">
            <h2 class="section-title mb-2">
              ¬øHacemos algo <span class="grad-text">incre√≠ble</span>?
            </h2>
            <p class="section-subtitle mb-4">
              Si tienes una idea o proyecto, escr√≠beme. Respondo r√°pido.
            </p>

            <div class="contact-items">
              <a class="contact-item" href="mailto:andres@example.com">
                <i class="bi bi-envelope"></i>
                <span>nithson.barragan.03@gmail.com</span>
              </a>
              <a class="contact-item" href="https://wa.me/573209025487" target="_blank" rel="noopener">
                <i class="bi bi-whatsapp"></i>
                <span>+57 320 902 5487</span>
              </a>
              <a class="contact-item" href="https://github.com/Andrex501" target="_blank" rel="noopener">
                <i class="bi bi-github"></i>
                <span>github.com/Andrex501</span>
              </a>
            </div>
          </div>

          <div class="contact-right">
            <div class="mini-form">
              <p class="mini-form-title">Mensaje r√°pido</p>
              <p class="mini-form-sub">
                (Opcional) Puedes usar este texto y copiarlo al WhatsApp:
              </p>

              <textarea id="msg" class="form-control form-control-lg" rows="5">
Hola Andres, vi tu portafolio y me gustar√≠a hablar sobre un proyecto. ¬øTienes disponibilidad esta semana?
              </textarea>

              <div class="d-flex gap-2 mt-3">
                <button id="copyMsg" class="btn btn-outline-light w-50">
                  Copiar <i class="bi bi-clipboard"></i>
                </button>
                <a id="sendWp" class="btn btn-primary btn-glow w-50" href="#" target="_blank" rel="noopener">
                  Enviar WhatsApp <i class="bi bi-send"></i>
                </a>
              </div>
            </div>

            <div class="contact-mini-note">
              <i class="bi bi-shield-check"></i>
              <span>Tu informaci√≥n se queda contigo. No se guarda nada aqu√≠.</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Certificate modal -->
      <div class="cert-modal" id="certModal" aria-hidden="true">
        <div class="cert-modal-backdrop" data-close="true"></div>
        <div class="cert-modal-content glass" role="dialog" aria-modal="true" aria-label="Vista de certificado">
          <button class="cert-modal-close" aria-label="Cerrar" data-close="true">
            <i class="bi bi-x-lg"></i>
          </button>
          <img id="certModalImg" src="" alt="Certificado" />
        </div>
      </div>
    </main>

    <footer class="footer">
      <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center gap-2">
        <p class="m-0">¬© 2025 AndreSoft. Todos los derechos reservados.</p>
        <div class="footer-links">
          <a href="#inicio">Inicio</a>
          <a href="#proyectos">Proyectos</a>
          <a href="#contacto">Contacto</a>
        </div>
      </div>
    </footer>

    <script src="./app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>


<script>

// ---------- Mobile menu ----------
const toggleBtn = document.querySelector(".nav-toggle");
const navLinks = document.querySelector("#navLinks");

if (toggleBtn && navLinks) {
  toggleBtn.addEventListener("click", () => {
    const isOpen = navLinks.classList.toggle("open");
    toggleBtn.setAttribute("aria-expanded", String(isOpen));
  });

  // Close on link click
  navLinks.querySelectorAll("a").forEach((a) => {
    a.addEventListener("click", () => {
      navLinks.classList.remove("open");
      toggleBtn.setAttribute("aria-expanded", "false");
    });
  });
}

// ---------- Reveal on scroll ----------
const revealEls = document.querySelectorAll(".reveal");
const io = new IntersectionObserver(
  (entries) => {
    entries.forEach((e) => {
      if (e.isIntersecting) e.target.classList.add("show");
    });
  },
  { threshold: 0.12 }
);

revealEls.forEach((el) => io.observe(el));

// ---------- Scroll spy active links ----------
const sections = ["inicio", "proyectos", "sobremi", "certificados", "contacto"]
  .map((id) => document.getElementById(id))
  .filter(Boolean);

const navItems = document.querySelectorAll(".nav-link-item");

function setActiveLink() {
  const y = window.scrollY + 120;
  let current = "inicio";

  sections.forEach((sec) => {
    if (sec.offsetTop <= y) current = sec.id;
  });

  navItems.forEach((a) => {
    const href = a.getAttribute("href");
    const id = href?.startsWith("#") ? href.slice(1) : "";
    a.classList.toggle("active", id === current);
  });
}

window.addEventListener("scroll", setActiveLink);
setActiveLink();

// ---------- Typewriter ----------
function typewriter(el, text, speed = 18) {
  let i = 0;
  el.textContent = "";
  const tick = () => {
    el.textContent += text[i] || "";
    i++;
    if (i <= text.length) requestAnimationFrame(() => setTimeout(tick, speed));
  };
  tick();
}

const tw = document.querySelector(".typewriter");
if (tw) typewriter(tw, tw.dataset.text || "");

// ---------- WhatsApp quick send + copy ----------
const msg = document.getElementById("msg");
const copyBtn = document.getElementById("copyMsg");
const sendWp = document.getElementById("sendWp");

function buildWpLink(text) {
  const phone = "573209025487";
  const encoded = encodeURIComponent(text.trim());
  return `https://wa.me/${phone}?text=${encoded}`;
}

if (sendWp && msg) {
  sendWp.href = buildWpLink(msg.value);

  msg.addEventListener("input", () => {
    sendWp.href = buildWpLink(msg.value);
  });
}

if (copyBtn && msg) {
  copyBtn.addEventListener("click", async () => {
    try {
      await navigator.clipboard.writeText(msg.value);
      copyBtn.innerHTML = 'Copiado <i class="bi bi-check2"></i>';
      setTimeout(() => {
        copyBtn.innerHTML = 'Copiar <i class="bi bi-clipboard"></i>';
      }, 1300);
    } catch (e) {
      alert("No se pudo copiar. Intenta manualmente.");
    }
  });
}

// ---------- Certificates modal ----------
const certModal = document.getElementById("certModal");
const certModalImg = document.getElementById("certModalImg");

document.querySelectorAll("[data-cert]").forEach((btn) => {
  btn.addEventListener("click", () => {
    const src = btn.getAttribute("data-cert");
    if (!src) return;
    certModalImg.src = src;
    certModal.classList.add("show");
    certModal.setAttribute("aria-hidden", "false");
  });
});

if (certModal) {
  certModal.addEventListener("click", (e) => {
    const close = e.target.closest("[data-close='true']");
    if (close) {
      certModal.classList.remove("show");
      certModal.setAttribute("aria-hidden", "true");
      certModalImg.src = "";
    }
  });

  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && certModal.classList.contains("show")) {
      certModal.classList.remove("show");
      certModal.setAttribute("aria-hidden", "true");
      certModalImg.src = "";
    }
  });
}

// ---------- Lightweight particles (no libs) ----------
const canvas = document.getElementById("particles");
if (canvas) {
  const ctx = canvas.getContext("2d");
  let w = (canvas.width = window.innerWidth);
  let h = (canvas.height = window.innerHeight);

  const prefersReduce = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

  const particles = Array.from({ length: prefersReduce ? 0 : 48 }, () => ({
    x: Math.random() * w,
    y: Math.random() * h,
    r: 1 + Math.random() * 2.2,
    vx: (Math.random() - 0.5) * 0.35,
    vy: (Math.random() - 0.5) * 0.35,
    a: 0.25 + Math.random() * 0.35,
  }));

  function resize() {
    w = canvas.width = window.innerWidth;
    h = canvas.height = window.innerHeight;
  }
  window.addEventListener("resize", resize);

  function draw() {
    ctx.clearRect(0, 0, w, h);

    // dots
    for (const p of particles) {
      p.x += p.vx;
      p.y += p.vy;

      if (p.x < 0) p.x = w;
      if (p.x > w) p.x = 0;
      if (p.y < 0) p.y = h;
      if (p.y > h) p.y = 0;

      ctx.beginPath();
      ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(208,139,241,${p.a})`;
      ctx.fill();
    }

    // lines (subtle)
    for (let i = 0; i < particles.length; i++) {
      for (let j = i + 1; j < particles.length; j++) {
        const a = particles[i];
        const b = particles[j];
        const dx = a.x - b.x;
        const dy = a.y - b.y;
        const d = Math.sqrt(dx * dx + dy * dy);
        if (d < 120) {
          ctx.strokeStyle = `rgba(208,139,241,${(1 - d / 120) * 0.12})`;
          ctx.lineWidth = 1;
          ctx.beginPath();
          ctx.moveTo(a.x, a.y);
          ctx.lineTo(b.x, b.y);
          ctx.stroke();
        }
      }
    }

    requestAnimationFrame(draw);
  }

  if (!prefersReduce) draw();
}


</script>